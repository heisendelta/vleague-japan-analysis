# Japanese Volleyball League Schedule Analysis

As the title suggests, this is a analysis for the upcoming schedule of the Japanese V League, to figure out which matches I should go watch. I live in Tokyo, and the matches take place all over the country, and I want to figure which matches I should watch to receive the most enjoyment per yen spent. This analysis has two parts:
1. Evaluating how *exciting* or *enjoyable* a match will be.
2. How much *time* and *money* it takes for me to travel to the location.

If you're interested in volleyball, feel free to consider my results. I can't assure they're the most accurate (especially because I think my metric #1 for *satisfaction* is flawed), and this project is more of a proof-of-concept.

## Enjoyment Evaluation

As you might expect, the amount of enjoyment I'm going to receive from a match between teams that haven't played yet is pretty hard to accurately predict. I've decided to keep things simple and derive this from how **evenly-matched** I think two teams are going to be. 

The principle I used is as follows: if team A played team B and they're evenly matched, and if team B played team C and they're evenly matched, then in theory, when team A plays team C, they will also be evenly matched. In practice, however, this might not be the case. If the star players of one of the teams become injured, or if the playstyles of one of the teams make them advantageous over the other, the results could vary.

Nonetheless, for simplicity's sake, I've decided to go with this method. Instead of using three teams, I expanded to a graph of teams, where the paths between two nodes on the graph represent the same logical as before.

![images/vleague_div2_graph_jan6.png](images/vleague_div2_graph_jan6.png)

Let ![S(A, B)](https://latex.codecogs.com/png.image?\inline&space;\dpi{110}\bg{white}&space;S(A,B)) represent the score difference between two teams, A and B. This is calculated by the past matches between the two teams, and is represented by the weight of the directecd edge from A to B.
- If ![](https://latex.codecogs.com/png.image?\inline&space;\dpi{110}\bg{white}&space;S(A,B)=0) then the teams are perfectly evenly matched.
- If ![](https://latex.codecogs.com/png.image?\inline&space;\dpi{110}\bg{white}&space;S(A,B)>0) then A is "stronger" than B.
- If ![](https://latex.codecogs.com/png.image?\inline&space;\dpi{110}\bg{white}&space;S(A,B)<0) then B is "stronger" than A.

Then if A has not played C, then we can use intermediate matches to define the relationship ![](https://latex.codecogs.com/png.image?\inline&space;\dpi{110}\bg{white}S(A,C)\approx&space;S(A,B)&plus;S(B,C)). For a graph, we take any path between A and C that is less than or equal to `k` edges and take the mean of the sum of weights along each of those paths. 

There are four iterations of this method (each weighing the path sums differently) in `predicted_scores_manual.py`.

To evaluate these metrics, we take the least-squares error sum between the scores generated by the four methods and the position of the team on their leaderboard (generated in `leaderboard.py`). This is done in `predicted_scores_evaluation.py`.

